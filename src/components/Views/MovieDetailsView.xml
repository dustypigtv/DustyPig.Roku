<?xml version="1.0" encoding="UTF-8"?>
<component name="MovieDetailsView" extends="Group">
    
    <script type = "text/brightscript" uri = "pkg:/source/Utils.bs" />
    <script type = "text/brightscript" uri = "pkg:/components/Views/MovieDetailsView.bs" />
   
    <interface>
        <field id="content" type="node" alwaysNotify="true" />
        <field id="showView_LoginAccount" type="bool" value="false" alwaysNotify="true" />
        <field id="playVideo" type="assocarray" alwaysNotify="true" />
        <field id="relay_RemoveFromContinueWatching" type="string" alwaysNotify="true" />
        <field id="relay_AddToWatchlist" type="node" alwaysNotify="true" />
        <field id="removeFromWatchlist" type="string" alwaysNotify="true" />
        <field id="switchToAddToPlaylist" type="assocarray" alwaysNotify="true" />
    </interface>

    <children>

       <Poster
            id="backdropPoster"
            loadWidth="1920"
            loadHeight="1080"
            loadDisplayMode="scaleToZoom"
            failedBitmapUri="pkg:/images/failed_poster.jpg" />

        
        <!-- Dimmer -->
        <Rectangle
            width="1920"
            height="1080"
            color="#000000DD" />

        <!--
            Safe zone: 
                x,y = 192,106
                w,h = 1534,866
        -->

        <LayoutGroup
            itemSpacings="[25]"
            translation="[192,106]">

            <ThemedLabel
                id="titleLabel"
                themeColor="primary"
                font="font:LargeBoldSystemFont"
                width="1534"
                wrap="false"
                maxLines="1"
                ellipsizeOnBoundary="true" />

            <!-- Details (Year, Rated, Duration and Remaining)-->
            <LayoutGroup
                layoutDirection="horiz"
                itemSpacings="[50]">

                <ThemedLabel
                    id="yearLabel"
                    themeColor="textOnBackground"
                    font="font:SmallestSystemFont" />

                <ThemedLabel
                    id="ratedLabel"
                    themeColor="textOnBackground"
                    font="font:SmallestSystemFont" />

                <ThemedLabel
                    id="lengthLabel"
                    themeColor="textOnBackground"
                    font="font:SmallestSystemFont" />

                <ThemedLabel
                    id="remainingLabel"
                    themeColor="textOnBackground"
                    font="font:SmallestSystemFont" />
            
            </LayoutGroup>


            <!-- Playback/Request Buttons -->
            <LayoutGroup
                id="playbackButtonLayoutGroup"
                layoutDirection="horiz"
                itemSpacings="[25]">

                <Group>
                    <ThemedButton
                        id="playButton"
                        width="250"
                        height="75"
                        text="Play" />
                    
                    <ThemedButton
                        id="requestButton"
                        width="250"
                        height="75"
                        text="Request" />
                </Group>

                <ThemedButton
                    id="resumeButton"
                    width="250"
                    height="75"
                    text="Resume" />

                <ThemedButton
                    id="markWatchedButton"
                    width="250"
                    height="75"
                    text="Watched" />

            </LayoutGroup>


            <!-- Watchlist/Playlist buttons -->
            <LayoutGroup
                id="otherActionButtonLayoutGroup"
                layoutDirection="horiz"
                itemSpacings="[50]">
            
                <ThemedIconButton
                    id="watchlistButton"
                    width="50"
                    height="50"
                    icon="pkg:/images/add.png" />

                <ThemedIconButton
                    id="addToPlaylistButton"
                    width="50"
                    height="50"
                    icon="pkg:/images/playlist.png" />

            </LayoutGroup>


            <!-- 
                Description Label 
                I set the height on this by just looking and adusting the scenegraph inspector
            -->
            <ThemedLabel
                id="descriptionLabel"
                themeColor="textOnBackground"
                width="1534"
                height="250"
                vertAlign="center"
                wrap="true"
                ellipsizeOnBoundary="true" />

            
            <Group>

                <!-- 
                    Cast & Crew 
                    Set rowItemSize to 133x200
                    100px spacing between rows for labels padding

                    itemSize = 1534x300

                    label on right is 200
                    itemSize = 1534 - 200 = 1334
                -->
                <ThemedRowList
                    id="castCrewRowList"
                    rowitemSize="[[133,200]]"
                    rowItemSpacing= "[[20,0]]"
                    itemSize= "[1534,300]"
                    numRows="2"
                    rowLabelOffset= "[[0,10]]"
                    showRowLabel= "[true]"
                    rowFocusAnimationStyle= "floatingFocus"
                    vertFocusAnimationStyle="fixedFocus"
                    loadingBitmapUri="pkg:/images/grey_profile.png"
                    failedBitmapUri="pkg:/images/grey_profile.png"/>


                <ThemedLabel 
                    id="selectedPersonLabel"
                    themeColor="textOnBackground"
                    font="font:SmallestSystemFont"
                    width="1000"
                    numLines="1"
                    wrap="true"
                    horizAlign="right"
                    ellipsizeOnBoundary="true"
                    translation="[534,0]" />

            </Group>

        </LayoutGroup>

       

	
		<!-- 
			Spinner images are 200x200
			Screen is 1920x1024
			centerx = (1920 - 200) / 2 = 860
			centery = (1080 - 200) / 2 = 440
		-->
		<ThemedBusySpinner
			id="busySpinner"
			visible="false"
			translation="[860,440]" />
		
		
		

	</children>

</component>